<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	>
<head>
<meta charset="UTF-8" />
<title>Cadastro</title>
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" type="text/css" />
<link th:href="@{/css/style.css}" rel="stylesheet" type="text/css"/>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script type="text/javascript"	th:src="@{/js/casashow.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>

</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-xl-9 mx-auto">
        <div class="card card-signin flex-row my-5">
          <div class="card-img-left d-none d-md-flex">
             <!-- Background image for card set in CSS! -->
          </div>
          <div class="card-body">
            <h5 class="card-title text-center">Cadastre-se</h5>
            <form class="form-signin" id="form_senha" name="form_senha" method="POST" action="/registration">
            <div class="alert alert-success alert-dismissible" role="alert" th:if="${!#strings.isEmpty(mensagem)}">
            <button type="button" class="close" data-dismis="alert"></button>
            <span>Cadastro realizado com sucesso</span>
            </div>
              <div class="form-label-group">
                <input type="text" id="username" class="form-control" th:value="${username}" placeholder="Usuário" name="username" required autofocus>
                <label for="username">Usuário</label>
              </div>

                          
              <hr>

              <div class="form-label-group">
                <input type="password" id="password" class="form-control" placeholder="Senha" name="password" required>
                <label for="password">Senha</label>
              </div>
              
              <div class="form-label-group">
                <input type="password" id="confirmPassword" class="form-control" placeholder="Senha" name="confirmPassword" required>
                <label for="confirmPassword">Confirme a senha</label>
              </div>

              <button onClick="return Validate()" class="btn btn-lg btn-dark btn-block text-uppercase" type="submit">Cadastre-se</button>
              <a class="d-block text-center mt-2 small" href="/login">Já tem um cadastro? Entre</a>
              <hr class="my-4">
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<script type="text/javascript">
      	var password = document.getElementById("password")
    	  , confirmPassword = document.getElementById("confirmPassword");

    	function Validate(){
    	  if(password.value != confirmPassword.value) {
    	    confirmPassword.setCustomValidity("As senhas não coincidem. Tente novamente.");
    	  } else {
    	    confirmPassword.setCustomValidity('');
    	  }
    	}

    	password.onchange = validatePassword;
    	confirmPassword.onkeyup = validatePassword;
</script>

</html>